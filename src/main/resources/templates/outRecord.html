
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>出库界面</title>
    <link rel="stylesheet" type="text/css" href="../static/css/bootstrap/bootstrap.css">
    <script src="../static/js/bootstrap/bootstrap.js"></script>
    <script src="../static/js/jquery-3.5.1/jquery-3.5.1.js"></script>
</head>

<body>


<div class="container">


    <!--头部-->
    <div id="header">
        <ui>
            <li>
                <div class="dropdown">
                    <button  class="dropbtn" >入库管理</button>
                    <div class="dropdown-content">
                        <a th:href="@{/inRecord/in}"><span class="fa fa-heart"></span>物料入库</a>
                        <a th:href="@{/inRecord/getAll}"><span class="fa fa-heart"></span>入库记录查询</a>
                    </div>
                </div>
            </li>
            <li>
                <div class="dropdown">
                    <button class="dropbtn">出库管理</button>
                    <div class="dropdown-content">
                        <a th:href="@{/outRecord/out}"><span class="fa fa-heart"></span>物料出库</a>
                        <a th:href="@{/outRecord/getAll}"><span class="fa fa-heart"></span>出库记录</a>
                    </div>
                </div>
            </li>
            <li>
                <div class="dropdown">
                    <button class="dropbtn">库存管理</button>
                    <div class="dropdown-content">
                        <a th:href="@{/storageTable/getAll}"><span class="fa fa-cart-plus"></span>&nbsp;库存管理</a>
                    </div>
                </div>
            </li>
            <li>
                <div class="dropdown">
                    <button class="dropbtn">借用管理</button>
                    <div class="dropdown-content">
                        <a th:href="@{/borrowRecord/borrow}"><span class="fa fa-cart-plus"></span>&nbsp;借用管理</a>
                        <a th:href="@{/borrowRecord/getAll}"><span class="fa fa-heart"></span>借用记录查询</a>
                    </div>
                </div>
            </li>
            <li>
                <div class="dropdown">
                    <button class="dropbtn">发货管理</button>
                    <div class="dropdown-content">
                        <a th:href="@{/deliveryRecord/delivery}"><span class="fa fa-heart"></span>发货</a>
                        <a th:href="@{/deliveryRecord/getAll}"><span class="fa fa-heart"></span>发货记录查询</a>
                    </div>
                </div>
            </li>
        </ui>
    </div>


    <div class="div1">

        <div class="div2">

            <form action="#" th:action="@{/outRecord/insertDate}" th:object="${outRecord}" method="post">
                <div>
                    <div>
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon">物料号</span>
                            <input id="matnr" name="matnr" required type="text"
                                   th:field="*{matnr}" class="form-control"
                                   placeholder="零部件物料号，输入完成请点击回车进行查询校验"

                                   aria-describedby="sizing-addon1">
                        </div>
                    </div><!-- /.col-lg-6 -->
                </div>
                <div>
                    <div>
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon">零部件名称</span>
                            <input required type="text" id="partName" th:field="*{partName}" class="form-control"
                                   placeholder="零部件名称" aria-describedby="sizing-addon1">
                        </div>
                    </div><!-- /.col-lg-6 -->
                </div>
                <div>
                    <div>
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon">零部件规格</span>
                            <input required type="text" id="partSpecification" th:field="*{partSpecification}"
                                   class="form-control"
                                   placeholder="零部件规格"
                                   aria-describedby="sizing-addon1">
                        </div>
                    </div><!-- /.col-lg-6 -->
                </div>
                <div>
                    <div>
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp图号&nbsp&nbsp&nbsp&nbsp</span>
                            <input type="text" th:field="*{figureNumber}" id="figureNumber" class="form-control"
                                   placeholder="图号"
                                   aria-describedby="sizing-addon1">
                        </div>
                    </div><!-- /.col-lg-6 -->
                </div>
                <div>
                    <div>
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp材料&nbsp&nbsp&nbsp&nbsp</span>
                            <input type="text" th:field="*{material}" id="material" class="form-control"
                                   placeholder="材料"
                                   aria-describedby="sizing-addon1">
                        </div>
                    </div><!-- /.col-lg-6 -->
                </div>
                <div>
                    <div>
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon">&nbsp&nbsp&nbsp&nbsp供货商&nbsp&nbsp&nbsp</span>
                            <input required type="text" th:field="*{supplier}" id="supplier" class="form-control"
                                   placeholder="供货商"
                                   aria-describedby="sizing-addon1">
                        </div>
                    </div><!-- /.col-lg-6 -->
                </div>
                <div>
                    <div>
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp类别&nbsp&nbsp&nbsp&nbsp</span>
                            <select id="category2" required th:field="*{category}"  style="height: 45px;width: 80%;border: 1px #CED4DA solid">
                                <option value="外购件">外购件</option>
                                <option value="镜头">镜头</option>
                                <option value="光学镜片">镜片</option>
                                <option value="镜头机械部分">镜头机械部分</option>
                            </select>
                        </div>
                    </div><!-- /.col-lg-6 -->
                </div>
                <div>
                    <div>
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp数量&nbsp&nbsp&nbsp&nbsp</span>
                            <input required type="text" th:field="*{number}" class="form-control" placeholder="数量"
                                   aria-describedby="sizing-addon1">
                        </div>
                    </div><!-- /.col-lg-6 -->
                </div>
<!--                <div>-->
<!--                    <div>-->
<!--                        <div class="input-group input-group-lg">-->
<!--                            <span class="input-group-addon">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp库位&nbsp&nbsp&nbsp&nbsp</span>-->
<!--                            <input required type="text" id="location" th:field="*{location}" class="form-control"-->
<!--                                   placeholder="库位"-->
<!--                                   aria-describedby="sizing-addon1">-->
<!--                        </div>-->
<!--                    </div>&lt;!&ndash; /.col-lg-6 &ndash;&gt;-->
<!--                </div>-->
<!--                <div>-->
<!--                    <div>-->
<!--                        <div class="input-group input-group-lg">-->
<!--                            <span class="input-group-addon">零部件名称</span>-->
<!--                            <input required type="text" id="partName" th:field="*{partName}" class="form-control"-->
<!--                                   placeholder="零部件名称" aria-describedby="sizing-addon1">-->
<!--                        </div>-->
<!--                    </div>&lt;!&ndash; /.col-lg-6 &ndash;&gt;-->
<!--                </div>-->
                <div>
                    <div>
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon">&nbsp&nbsp&nbsp&nbsp领料人&nbsp&nbsp&nbsp</span>
                            <input type="text" th:field="*{receiveName}" id="receiveName" class="form-control"
                                   value="王美林"
                                   placeholder="创建人" aria-describedby="sizing-addon1">
                        </div>
                    </div><!-- /.col-lg-6 -->
                </div>
                <div>
                    <div>
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon">&nbsp&nbsp&nbsp&nbsp创建人&nbsp&nbsp&nbsp</span>
                            <input type="text" th:field="*{createdName}" id="createdName" class="form-control"
                                   value="王美林"
                                   placeholder="创建人" aria-describedby="sizing-addon1">
                        </div>
                    </div><!-- /.col-lg-6 -->
                </div>

                <div>
                    <div>
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp备注&nbsp&nbsp&nbsp&nbsp</span>
                            <input type="text" th:field="*{mark}" class="form-control" placeholder="备注"
                                   aria-describedby="sizing-addon1">
                        </div>
                    </div><!-- /.col-lg-6 -->
                </div>
                <div>
                    <button type="submit" value="Submit">保存</button>
                </div>
            </form>
        </div>
    </div>
</div>

</div>

</div>

<!--<button id="btn" class="btn-danger">按钮</button>-->


</div>
</body>

<style>


    body {
        /*background-color: #30cfd0;*/
        text-align: center;
        margin: 0 auto;
    }

    .div1 {
        text-align: center;
        margin-left: 200px;
        width: 500px;
        height: 1200px;
        margin: 0 auto;
        padding-top: 100px;
    }

    .input-group-addon {
        margin-top: 10px;
        width: 100px;
        text-align: center;
    }

    .dropbtn {
        background-color: #c7d7d7;
        color: white;
        padding: 16px;
        font-size: 16px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
    }

    .dropdown {
        position: relative;
        display: inline-block;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
    }

    .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
    }

    .dropdown-content a:hover {
        background-color: #f1f1f1
    }

    .dropdown:hover .dropdown-content {
        display: block;
    }

    .dropdown:hover .dropbtn {
        background-color: #3e8e41;
    }

    li {
        text-align: center;
        list-style-type: none;
        display: inline-block;
        border-radius: 3px;
    }

    li > button {
        text-align: center;
        display: inline-block;
        border-radius: 3px;
    }

    #header {
        padding-top: 50px;
        margin: 0 auto;
        text-align: center;
    }

</style>


<script>

    function add() {
        // alert("修改");
        $("#t1").lastChild.append(
        "  <tr> " +
        "  <td ><input></td>   " +
        "  <td ><input></td>    " +
        "  <td ><input></td>  " +
        " <td ><input></td>  " +
        " <td ><input></td>   " +
        " <td><input></td>    " +
        " <td ><input></td>    " +
        "  <td ><input></td>     " +
        "  <td ><input></td>      " +
        "  <td ><input></td>   " +
        "  <td ><input></td>  <!-- 需要传递id -->  " +
        "  <td>  " +
        "  <button class='btn-default' th:onclick=''javascript:add()''>添加</button>  " +
        "  <button class='btn-danger' th:onclick=''javascript:del()''>删除</button>  " +
        "   </td>"
            );

    };

    function del() {
        alert("删除");
    };



    $(function () {
        $('#matnr').bind('keypress', function (event) {
            if (event.keyCode == "13") {
                var matnr = $("input[name='matnr']").val().trim();
                // 请求数据 自动填写  发动请求
                $.ajax({
                    url: "/inRecord/checkIn",
                    type: "get",
                    data: {
                        matnr: matnr,
                    },
                    //  需要将其余输入框设置成不可编辑状态
                    success: function (res) {
                        console.log(res.code)
                        console.log(res)
                        // 将数据放入input标签
                        if (res.data  !== null) {
                            $('#partName').val(res.data.partName).attr("readonly", "readonly");
                            $('#partSpecification').val(res.data.partSpecification).attr("readonly", "readonly");
                            $('#figureNumber').val(res.data.figureNumber).attr("readonly", "readonly");
                            $('#material').val(res.data.material).attr("readonly", "readonly");
                            $('#supplier').val(res.data.supplier).attr("readonly", "readonly");
                            $('#location').val(res.data.location).attr("readonly", "readonly");
                        } else {
                            window.location.reload();
                        }

                    }
                })
                //  结束
            }
        });
    });


    $(document).ready(function () {


        $("#btn").click(function () {
            alert("未知得操作！")
            // var username = $("#username").val();
            // var password = $("#password").val();
            //
            // var error = "";
            // if (username == "") {
            //     error += "用户名不能为空！";
            //     error += "\n";
            // } else if (password == "") {
            //     error += "密码不能为空！";
            //     error += "\n";
            // }
            // if (error != "") {
            //     alert(error);
            // } else {
            //     $.ajax({
            //         type: 'GET',
            //         dataType: 'json',
            //         url: 'http://localhost:8080/addressList/add',
            //         contentType: 'application/json;charset=UTF-8',
            //         data: JSON.stringify({"username": username, "password": password}),
            //         success: function (data1) {//返回结果
            //             if (data1) {
            //                 window.location.href = "success.html?userName=" + username;
            //                 //data.username
            //             } else {
            //                 //debugger;
            //                 alert("用户名或密码错误");
            //             }
            //         }
            //     });
            // }
        });
    })

</script>

</html>